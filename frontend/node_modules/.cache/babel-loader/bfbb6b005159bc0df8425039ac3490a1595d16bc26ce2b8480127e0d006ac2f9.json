{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\farid\\\\hotel\\\\my-app\\\\Ejust-Hotel-Website\\\\src\\\\BookNow.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport TextField from \"@mui/material/TextField\";\nimport Button from \"@mui/material/Button\";\nimport Dialog from \"@mui/material/Dialog\";\nimport DialogTitle from \"@mui/material/DialogTitle\";\nimport DialogContent from \"@mui/material/DialogContent\";\nimport DialogActions from \"@mui/material/DialogActions\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport SelectLabelsSingle from \"./SelectLabelsSingle\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookNowSingle = () => {\n  _s();\n  const [checkInDate, setCheckInDate] = useState(\"\");\n  const [checkOutDate, setCheckOutDate] = useState(\"\");\n  const [guests, setGuests] = useState(1);\n  const [bookings, setBookings] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const pricePerDay = 300;\n  useEffect(() => {\n    if (checkInDate && checkOutDate) {\n      const startDate = new Date(checkInDate);\n      const endDate = new Date(checkOutDate);\n      if (startDate < endDate) {\n        const diffTime = Math.abs(endDate - startDate);\n        const days = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n        setTotalPrice(days * pricePerDay);\n      } else {\n        setTotalPrice(0);\n      }\n    }\n  }, [checkInDate, checkOutDate]);\n  const handleBooking = async () => {\n    if (!checkInDate || !checkOutDate || checkInDate >= checkOutDate) {\n      alert(\"Please select valid check-in and check-out dates.\");\n      return;\n    }\n    const userId = localStorage.getItem(\"userId\");\n    const bookingData = {\n      checkInDate,\n      checkOutDate,\n      guests,\n      userId\n    };\n    try {\n      const response = await fetch(\"http://localhost:5000/api/bookings/single\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(bookingData)\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setBookings(data.bookings);\n        setOpen(true);\n      } else {\n        alert(\"Failed to book. Please try again.\");\n      }\n    } catch (error) {\n      alert(\"Error connecting to the server. Please try again later.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Single Room Booking\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Check-In Date\",\n      type: \"date\",\n      value: checkInDate,\n      onChange: e => setCheckInDate(e.target.value),\n      InputLabelProps: {\n        shrink: true\n      },\n      sx: {\n        marginBottom: \"10px\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      label: \"Check-Out Date\",\n      type: \"date\",\n      value: checkOutDate,\n      onChange: e => setCheckOutDate(e.target.value),\n      InputLabelProps: {\n        shrink: true\n      },\n      sx: {\n        marginBottom: \"10px\",\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SelectLabelsSingle, {\n      guests: guests,\n      setGuests: setGuests\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Total Price: $\", totalPrice]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: handleBooking,\n      sx: {\n        marginTop: \"10px\"\n      },\n      children: \"Book Now\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: () => setOpen(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Your Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(List, {\n          children: bookings.map((booking, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n            children: /*#__PURE__*/_jsxDEV(ListItemText, {\n              primary: `Check-In: ${booking.checkInDate}, Check-Out: ${booking.checkOutDate}, Guests: ${booking.guests}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpen(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(BookNowSingle, \"/LUiJ7D7+aMvAWKb8l7b6cTly3Y=\");\n_c = BookNowSingle;\nexport default BookNowSingle;\nvar _c;\n$RefreshReg$(_c, \"BookNowSingle\");","map":{"version":3,"names":["React","useState","useEffect","TextField","Button","Dialog","DialogTitle","DialogContent","DialogActions","List","ListItem","ListItemText","SelectLabelsSingle","jsxDEV","_jsxDEV","BookNowSingle","_s","checkInDate","setCheckInDate","checkOutDate","setCheckOutDate","guests","setGuests","bookings","setBookings","open","setOpen","totalPrice","setTotalPrice","pricePerDay","startDate","Date","endDate","diffTime","Math","abs","days","ceil","handleBooking","alert","userId","localStorage","getItem","bookingData","response","fetch","method","headers","body","JSON","stringify","ok","data","json","error","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","label","type","value","onChange","e","target","InputLabelProps","shrink","sx","marginBottom","width","variant","onClick","marginTop","onClose","map","booking","index","primary","_c","$RefreshReg$"],"sources":["C:/Users/farid/hotel/my-app/Ejust-Hotel-Website/src/BookNow.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\nimport List from \"@mui/material/List\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport SelectLabelsSingle from \"./SelectLabelsSingle\";\r\n\r\nconst BookNowSingle = () => {\r\n  const [checkInDate, setCheckInDate] = useState(\"\");\r\n  const [checkOutDate, setCheckOutDate] = useState(\"\");\r\n  const [guests, setGuests] = useState(1);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n  const pricePerDay = 300;\r\n\r\n  useEffect(() => {\r\n    if (checkInDate && checkOutDate) {\r\n      const startDate = new Date(checkInDate);\r\n      const endDate = new Date(checkOutDate);\r\n\r\n      if (startDate < endDate) {\r\n        const diffTime = Math.abs(endDate - startDate);\r\n        const days = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n        setTotalPrice(days * pricePerDay);\r\n      } else {\r\n        setTotalPrice(0);\r\n      }\r\n    }\r\n  }, [checkInDate, checkOutDate]);\r\n\r\n  const handleBooking = async () => {\r\n    if (!checkInDate || !checkOutDate || checkInDate >= checkOutDate) {\r\n      alert(\"Please select valid check-in and check-out dates.\");\r\n      return;\r\n    }\r\n\r\n    const userId = localStorage.getItem(\"userId\");\r\n    const bookingData = { checkInDate, checkOutDate, guests, userId };\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/bookings/single\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(bookingData),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setBookings(data.bookings);\r\n        setOpen(true);\r\n      } else {\r\n        alert(\"Failed to book. Please try again.\");\r\n      }\r\n    } catch (error) {\r\n      alert(\"Error connecting to the server. Please try again later.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h1>Single Room Booking</h1>\r\n      <TextField\r\n        label=\"Check-In Date\"\r\n        type=\"date\"\r\n        value={checkInDate}\r\n        onChange={(e) => setCheckInDate(e.target.value)}\r\n        InputLabelProps={{ shrink: true }}\r\n        sx={{ marginBottom: \"10px\", width: \"100%\" }}\r\n      />\r\n      <TextField\r\n        label=\"Check-Out Date\"\r\n        type=\"date\"\r\n        value={checkOutDate}\r\n        onChange={(e) => setCheckOutDate(e.target.value)}\r\n        InputLabelProps={{ shrink: true }}\r\n        sx={{ marginBottom: \"10px\", width: \"100%\" }}\r\n      />\r\n      <SelectLabelsSingle guests={guests} setGuests={setGuests} />\r\n      <p>Total Price: ${totalPrice}</p>\r\n      <Button\r\n        variant=\"contained\"\r\n        onClick={handleBooking}\r\n        sx={{ marginTop: \"10px\" }}\r\n      >\r\n        Book Now\r\n      </Button>\r\n      <Dialog open={open} onClose={() => setOpen(false)}>\r\n        <DialogTitle>Your Bookings</DialogTitle>\r\n        <DialogContent>\r\n          <List>\r\n            {bookings.map((booking, index) => (\r\n              <ListItem key={index}>\r\n                <ListItemText\r\n                  primary={`Check-In: ${booking.checkInDate}, Check-Out: ${booking.checkOutDate}, Guests: ${booking.guests}`}\r\n                />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpen(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookNowSingle;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}