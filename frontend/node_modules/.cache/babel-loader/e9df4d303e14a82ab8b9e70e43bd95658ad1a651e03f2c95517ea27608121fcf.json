{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\farid\\\\hotel\\\\my-app\\\\Ejust-Hotel-Website\\\\src\\\\components\\\\admin.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Button, TextField, Box, Container, Typography } from \"@mui/material\";\nimport { useNavigate } from \"react-router-dom\";\n\n// AuthManager class to handle authentication\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass AuthManager {\n  constructor(apiBase) {\n    this.apiBase = apiBase;\n  }\n  async login(email, password) {\n    const response = await fetch(`${this.apiBase}/api/admin/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      throw new Error(errorData.message || \"Login failed\");\n    }\n    return await response.json();\n  }\n}\nexport default function AdminSignInPage() {\n  _s();\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [error, setError] = React.useState(null);\n  const navigate = useNavigate();\n  const authManager = React.useMemo(() => new AuthManager(\"http://localhost:5000\"), []);\n  const handleSignIn = async () => {\n    try {\n      // Reset error state\n      setError(null);\n\n      // Perform login using AuthManager\n      const data = await authManager.login(email, password);\n      console.log(\"Login successful:\", data);\n\n      // Navigate to the admin dashboard\n      navigate(\"/adminProfile\");\n    } catch (err) {\n      console.error(\"Login error:\", err.message);\n      setError(err.message);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    sx: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      minHeight: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        boxShadow: 3,\n        padding: \"20px\",\n        borderRadius: \"8px\",\n        backgroundColor: \"white\",\n        width: \"100%\",\n        maxWidth: \"600px\",\n        margin: \"auto\",\n        marginTop: \"20px\",\n        height: \"auto\",\n        minHeight: \"200px\",\n        \"@media (max-width:600px)\": {\n          width: \"90%\",\n          padding: \"16px\"\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"ejustLogoSignin.png\",\n        alt: \"Logo\",\n        style: {\n          width: \"70px\",\n          height: \"auto\",\n          marginBottom: \"16px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        gutterBottom: true,\n        children: \"Admin Sign-In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        sx: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 2,\n          width: \"100%\"\n        },\n        noValidate: true,\n        autoComplete: \"off\",\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Email\",\n          variant: \"outlined\",\n          type: \"email\",\n          fullWidth: true,\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          variant: \"outlined\",\n          type: \"password\",\n          fullWidth: true,\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n          color: \"error\",\n          variant: \"body2\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          fullWidth: true,\n          onClick: handleSignIn,\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(AdminSignInPage, \"gauateoXM6wa9ZCDxxXXx3YgDhs=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminSignInPage;\nvar _c;\n$RefreshReg$(_c, \"AdminSignInPage\");","map":{"version":3,"names":["React","Button","TextField","Box","Container","Typography","useNavigate","jsxDEV","_jsxDEV","AuthManager","constructor","apiBase","login","email","password","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","Error","message","AdminSignInPage","_s","setEmail","useState","setPassword","error","setError","navigate","authManager","useMemo","handleSignIn","data","console","log","err","maxWidth","sx","display","flexDirection","alignItems","justifyContent","minHeight","children","boxShadow","padding","borderRadius","backgroundColor","width","margin","marginTop","height","src","alt","style","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","variant","gutterBottom","component","gap","noValidate","autoComplete","label","type","fullWidth","value","onChange","e","target","color","onClick","_c","$RefreshReg$"],"sources":["C:/Users/farid/hotel/my-app/Ejust-Hotel-Website/src/components/admin.js"],"sourcesContent":["import React from \"react\";\r\nimport { Button, TextField, Box, Container, Typography } from \"@mui/material\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// AuthManager class to handle authentication\r\nclass AuthManager {\r\n    constructor(apiBase) {\r\n        this.apiBase = apiBase;\r\n    }\r\n\r\n    async login(email, password) {\r\n        const response = await fetch(`${this.apiBase}/api/admin/login`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ email, password }),\r\n        });\r\n\r\n        if (!response.ok) {\r\n            const errorData = await response.json();\r\n            throw new Error(errorData.message || \"Login failed\");\r\n        }\r\n\r\n        return await response.json();\r\n    }\r\n}\r\n\r\nexport default function AdminSignInPage() {\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [error, setError] = React.useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    const authManager = React.useMemo(() => new AuthManager(\"http://localhost:5000\"), []);\r\n\r\n    const handleSignIn = async () => {\r\n        try {\r\n            // Reset error state\r\n            setError(null);\r\n\r\n            // Perform login using AuthManager\r\n            const data = await authManager.login(email, password);\r\n            console.log(\"Login successful:\", data);\r\n\r\n            // Navigate to the admin dashboard\r\n            navigate(\"/adminProfile\");\r\n        } catch (err) {\r\n            console.error(\"Login error:\", err.message);\r\n            setError(err.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container\r\n            maxWidth=\"sm\"\r\n            sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"center\",\r\n                minHeight: \"100vh\",\r\n            }}\r\n        >\r\n            <Box\r\n                sx={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"column\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                    boxShadow: 3,\r\n                    padding: \"20px\",\r\n                    borderRadius: \"8px\",\r\n                    backgroundColor: \"white\",\r\n                    width: \"100%\",\r\n                    maxWidth: \"600px\",\r\n                    margin: \"auto\",\r\n                    marginTop: \"20px\",\r\n                    height: \"auto\",\r\n                    minHeight: \"200px\",\r\n                    \"@media (max-width:600px)\": {\r\n                        width: \"90%\",\r\n                        padding: \"16px\",\r\n                    },\r\n                }}\r\n            >\r\n                <img\r\n                    src=\"ejustLogoSignin.png\"\r\n                    alt=\"Logo\"\r\n                    style={{\r\n                        width: \"70px\",\r\n                        height: \"auto\",\r\n                        marginBottom: \"16px\",\r\n                    }}\r\n                />\r\n                <Typography variant=\"h4\" gutterBottom>\r\n                    Admin Sign-In\r\n                </Typography>\r\n\r\n                <Box\r\n                    component=\"form\"\r\n                    sx={{\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        gap: 2,\r\n                        width: \"100%\",\r\n                    }}\r\n                    noValidate\r\n                    autoComplete=\"off\"\r\n                >\r\n                    {/* Email Field */}\r\n                    <TextField\r\n                        label=\"Email\"\r\n                        variant=\"outlined\"\r\n                        type=\"email\"\r\n                        fullWidth\r\n                        value={email}\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    />\r\n\r\n                    {/* Password Field */}\r\n                    <TextField\r\n                        label=\"Password\"\r\n                        variant=\"outlined\"\r\n                        type=\"password\"\r\n                        fullWidth\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n\r\n                    {/* Error Message */}\r\n                    {error && (\r\n                        <Typography color=\"error\" variant=\"body2\">\r\n                            {error}\r\n                        </Typography>\r\n                    )}\r\n\r\n                    {/* Sign-In Button */}\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        fullWidth\r\n                        onClick={handleSignIn}\r\n                    >\r\n                        Sign In\r\n                    </Button>\r\n                </Box>\r\n            </Box>\r\n        </Container>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}